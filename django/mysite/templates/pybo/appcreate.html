{% extends 'base.html' %}
{% block content %}
<h3 class="my-3 border-bottom pb2">애플리케이션 생성하기</h3>
<div class='container'>
    <div>
        <h4>웹 애플리케이션</h4>
        <form method='post' class='post-form my-3' action="{% url 'pybo:webapp' %}">
            {% csrf_token %}
            <select name="web" id='web'>
                <option value="0" disabled selected >종류</option>
                <option value="wordpress">WordPress</option>
                <option value="tomcat">Tomcat</option>
            </select>
            <br>
            <br>
            <input type="hidden" name="PN" id="PN" value="{{ project.NAME }}"  maxlength="100">
            <input type="hidden" name="PID" id="PID" value="{{ project.id }}"  maxlength="100">
            <p><Strong>Web User Name</strong></p>
            <input type="text" placeholder="Web User Name" name="WNAME" id="WNAME" value="">
            <p><Strong>User Password</strong></p>
            <input type="password" placeholder="Web User Password" name="WPW" id="WPW" value="">
            <br>
            <br>
            <button type="submit" class="btn btn-primary btn-lg">생성하기</button>
        </form>
    </div>
    <br>
    <div>
        <h4>DB 애플리케이션</h4>
        <form method='post' class='post-form my-3' action="{% url 'pybo:dbapp' %}">
            {% csrf_token %}
            <select name="db" id='db'>
                <option value="0" disabled selected >종류</option>
                <option value="mysql">MySQL</option>
                <option value="mariadb">MariaDB</option>
            </select>
            <br>
            <br>
            <input type="hidden" name="PN" id="PN" value="{{ project.NAME }}"  maxlength="100">
            <input type="hidden" name="PID" id="PID" value="{{ project.id }}"  maxlength="100">
            <p><Strong>DB Root Password</strong></p>
            <input type="password" placeholder="DB Root Password" name="RPW" id="RPW" value="">
            <p><Strong>User ID</strong></p>
            <input type="text" placeholder="DB User ID" name="UID" id="UID" value="">
            <p><Strong>User Password</strong></p>
            <input type="password" placeholder="DB User Password" name="UPW" id="UPW" value="">
            <p><Strong>Database Name</strong></p>
            <input type="text" placeholder="DB Name" name="DB" id="DB" value="">
            <br>
            <br>
            <button type='submit' class='btn btn-primary btn-lg'>생성하기</button>
            <hr />
            <a href="javascript:void(0)" style="color:red" class="delete btn btn-sm btn-outline-secondary" data-uri="{% url 'pybo:project_delete' project.id %}">프로젝트 삭제</a>
        </form>
        
    </div>
    <script type='text/javascript'>
        const delete_elements = document.getElementsByClassName("delete");
        Array.from(delete_elements).forEach(function(element) {
            element.addEventListener('click', function() {
                if(confirm("정말로 삭제하시겠습니까?")) {
                    location.href = this.dataset.uri;
                };
            });
        });
    </script>
</div>

{% endblock %}